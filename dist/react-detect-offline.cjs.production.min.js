'use strict'
var n,
  e = require('react'),
  t = (n = e) && 'object' == typeof n && 'default' in n ? n.default : n,
  o = t.createContext({ online: !0 })
function r() {
  return e.useContext(o)
}
function i() {
  return (i =
    Object.assign ||
    function(n) {
      for (var e = 1; e < arguments.length; e++) {
        var t = arguments[e]
        for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (n[o] = t[o])
      }
      return n
    }).apply(this, arguments)
}
var u = 'undefined' != typeof navigator,
  a = /Windows.*Chrome|Windows.*Firefox|Linux.*Chrome/
;(exports.ConnectionContext = o),
  (exports.ConnectionProvider = function(n) {
    var r = n.poll,
      c = void 0 === r || r,
      f = n.config,
      l = n.children,
      s = e.useState(!u || 'boolean' != typeof navigator.onLine || navigator.onLine),
      v = s[0],
      d = s[1]
    e.useEffect(function() {
      var n = function() {
          d(!0)
        },
        e = function() {
          d(!1)
        }
      return (
        window.addEventListener('online', n),
        window.addEventListener('offline', e),
        function() {
          window.removeEventListener('online', n), window.removeEventListener('offline', e)
        }
      )
    }, []),
      e.useEffect(
        function() {
          var n = (function(n, e) {
              var t = i(
                {},
                {
                  enabled: u && a.test(navigator.userAgent),
                  url: 'https://api.paintscout.com/',
                  timeout: 5e3,
                  interval: 5e3
                },
                {},
                e || {}
              )
              switch (n) {
                case !0:
                  return t
                case !1:
                  return { enabled: !1 }
                default:
                  return Object.assign({}, t, n)
              }
            })(c, f),
            e = n.url,
            t = n.timeout,
            o = null
          return (
            n.enabled &&
              (o = setInterval(function() {
                ;(function(n) {
                  var e = n.url,
                    t = n.timeout
                  return new Promise(function(n) {
                    var o = function() {
                        return n(!1)
                      },
                      r = new XMLHttpRequest()
                    ;(r.onerror = o),
                      (r.ontimeout = o),
                      (r.onreadystatechange = function() {
                        r.readyState === r.HEADERS_RECEIVED && (r.status ? n(!0) : o())
                      }),
                      r.open('GET', e),
                      (r.timeout = t),
                      r.send()
                  })
                })({ url: e, timeout: t }).then(function(n) {
                  d(n)
                })
              }, n.interval)),
            function() {
              o && clearInterval(o)
            }
          )
        },
        [c]
      )
    var p = e.useMemo(
      function() {
        return { online: v }
      },
      [v]
    )
    return t.createElement(o.Provider, { value: p }, l)
  }),
  (exports.Detector = function(n) {
    var t = n.children,
      o = n.onChange,
      i = r().online
    return (
      e.useEffect(
        function() {
          o && o(i)
        },
        [i]
      ),
      t ? t(i) : null
    )
  }),
  (exports.Offline = function(n) {
    var t = n.children,
      o = n.onChange,
      i = r().online
    return (
      e.useEffect(
        function() {
          o && o(i)
        },
        [i]
      ),
      i ? null : t
    )
  }),
  (exports.Online = function(n) {
    var t = n.children,
      o = n.onChange,
      i = r().online
    return (
      e.useEffect(
        function() {
          o && o(i)
        },
        [i]
      ),
      i ? t : null
    )
  }),
  (exports.useConnection = r)
//# sourceMappingURL=react-detect-offline.cjs.production.min.js.map
